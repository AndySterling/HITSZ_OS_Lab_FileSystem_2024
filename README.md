# 哈尔滨工业大学（深圳）2024年操作系统实验5——基于FUSE的青春版EXT2文件系统

## 1.项目介绍
### 1.1项目简介
该项目是哈尔滨工业大学（深圳）2024年《操作系统》课程实验5，以Linux系统中的EXT2文件系统为例，基于FUSE设计并实现一个可以真正在Linux上跑的文件系统。<br>
**本项目仅作为教学使用！！！**

### 1.2项目实现的功能
1. 文件系统的挂载和卸载
2. 创建目录（mkdir命令）
3. 创建文件（touch命令）
4. 查看文件夹下的文件（ls命令）<br>

**注：其他未提及的功能均未实现（如读写文件）；不实现‘.’和‘..’两个特殊目录！**

### 1.3项目设计
由于文件系统设计并不简单，这里只是简要说明设计思路，具体可以参见实验报告。（其实这里好像也没说明白什么）<br>
- 磁盘设计<br>
 |---------|----------------|--------------|--------------|---------|<br>
 | 超级块  | 索引结点位图 | 数据块位图 | 索引结点区 | 数据块 |<br>
 |---------|----------------|--------------|--------------|---------|<br>

- 文件系统设计<br>
一个文件最多可以直接索引6个数据块，单个索引结点大小为104B，需要83个逻辑块存储所有索引结点（即索引结点区大小为83个逻辑块）<br>
超级块的幻数为0x220110220<br>
<br>
一点碎碎念（完全可以忽略下面的话）<br>
关于目录项dentry和索引结点inode的关系，之前做实验时困扰了我很久，近来看了王道书《操作系统》，下面就谈谈我的理解：<br>
文件系统中，目录项之间组成一个链表，就像电脑文件夹中包含不同文件一样；而每个目录项指向了对应文件（也可以是子目录）的inode，inode中的指针指向了具体的数据块。在查找文件时，先通过目录项找到对应的inode，再通过inode找到对应的数据块，完成对文件的访问。<br>

## 2.项目成绩
<img width="1182" height="455" alt="实验成绩" src="https://github.com/user-attachments/assets/b63c13ea-3e0c-425a-93e6-c3f2e54a5521" />


